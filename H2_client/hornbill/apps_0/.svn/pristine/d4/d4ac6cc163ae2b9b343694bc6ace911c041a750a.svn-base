/*! MLSPassport - v0.0.1 - 2015-08-05 - www.meilishuo.com - */!function(){"use strict";function a(a){this.bridge_domain="meilishuo.com"}!window.MLSPassport&&(window.MLSPassport={}),window.MLSPassport.bridge=a,a.prototype.send=function(a){var b=window.location.href;a=this.getParams(a||b);var c=a.action||"",d=c.split("|")[0];switch(d){case"ajax":var e=window.top.MLSPassport.callbacks[a.action];e&&e(a.res);break;case"cookie":var f=this.getParams(a.cookie);this.setCookie(f)}return this},a.prototype.setDomain=function(){return document.domain=this.bridge_domain,this},a.prototype.setCookie=function(a){this.cookie.set(a.key,a.value,{domain:a.domain,duration:a.expire})},a.prototype.cookie=function(){var a={cookieArr:{},options:{domain:".meilishuo.com",path:"/"},setCookie:function(a,b,c){c=c||{};var d=a+"="+encodeURIComponent(b);if(c.domain||(c.domain=this.options.domain),c.path||(c.path=this.options.path),d+="; domain="+c.domain,c.path&&(d+="; path="+c.path),c.duration){var e=new Date;e.setTime(e.getTime()+1e3*c.duration),d+="; expires="+e.toGMTString()}return c.secure&&(d+="; secure"),document.cookie=d+";"},getCookie:function(a){return this.cookieArr[a]=this.cookieArr[a]||function(){var b=window.document.cookie.match("(?:^|;)\\s*"+a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")+"=([^;]*)");return b?decodeURIComponent(b[1]):void 0}(),this.cookieArr[a]},removeCookie:function(a){return this.setCookie(a,"",{duration:-1})}};return{set:function(b,c,d){return a.setCookie(b,c,d)},get:function(b){return a.getCookie(b)},remove:function(b){return a.removeCookie(b)}}}(),a.prototype.getParams=function(a){if(""==a)return"";for(var b,c,d,e={},f=a.indexOf("?")+1,g=-1==a.indexOf("#")?a.length:a.indexOf("#"),h=a.slice(f,g),i=h.split("&"),d=0,j=i.length;j>d;d++){var k=i[d].indexOf("=");if(k>0){b=i[d].substring(0,k),c=i[d].substr(k+1);try{c.indexOf("+")>-1&&(c=c.replace(/\+/g," ")),e[b]=decodeURIComponent(c)}catch(l){}}}return delete e.frm,e}}();